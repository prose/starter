title: 移动设备浏览当前页
tags:
  - bookmarklet
  - mobile
  - 工具
id: 2295
categories:
  - JavaScript
date: 2013-01-17 13:09:09
---

这是一个[用于移动设备（手机/pad）访问桌面设备（台式机/笔记本）正在浏览网页的书签栏工具](http://bmd.kainy.cn/ "生成当前浏览网页地址二维码，方便移动设备扫描后访问,支持所有主流浏览器。 | Browse current page on mobile device")。如果你还在通过电子邮件向自己发送链接，以便在另一台设备上打开，推荐你试试这个小工具。

### 由来

受Chrome“[发送标签页到移动设备](http://baidu.com.kainy.cn/?q=%E5%8F%91%E9%80%81%E6%A0%87%E7%AD%BE%E9%A1%B5%E5%88%B0%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87 "帮你百度一下")”功能的启发，有了让手机能够访问到电脑浏览器正在浏览的网页这个想法。最开始的实践是在博客文章页右边栏添加了“移动设备上浏览本页”挂件，但我这样一个门可罗雀的小博客受众实在有限；于是考虑以bookmarklet的形式，借助JavaScript这种为浏览器广泛支持的脚本语言，生成网址二维码来实现浏览网页的设备间同步，最终完成此工具。

<!--more-->

### 如何使用

到[**这里**](http://bmd.kainy.cn/ "移动设备浏览当前页的工具")安装小工具后

[caption id="" align="alignnone" width="506"][![1.上网浏览时发现需要在移动设备上访问的网页](http://a.kainy.cn/201301/1.%E4%B8%8A%E7%BD%91%E6%B5%8F%E8%A7%88%E6%97%B6%E5%8F%91%E7%8E%B0%E9%9C%80%E8%A6%81%E5%9C%A8%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E4%B8%8A%E8%AE%BF%E9%97%AE%E7%9A%84%E7%BD%91%E9%A1%B5.png "1.上网浏览时发现需要在移动设备上访问的网页")](http://a.kainy.cn/201301/1.%E4%B8%8A%E7%BD%91%E6%B5%8F%E8%A7%88%E6%97%B6%E5%8F%91%E7%8E%B0%E9%9C%80%E8%A6%81%E5%9C%A8%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E4%B8%8A%E8%AE%BF%E9%97%AE%E7%9A%84%E7%BD%91%E9%A1%B5.png) 1.上网浏览时发现需要在移动设备上访问的网页[/caption]

[caption id="" align="alignnone" width="506"][![2.点击书签“移动设备浏览当前页”，生成QR码](http://a.kainy.cn/201301/2.%E7%82%B9%E5%87%BB%E4%B9%A6%E7%AD%BE%E2%80%9C%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E6%B5%8F%E8%A7%88%E5%BD%93%E5%89%8D%E9%A1%B5%E2%80%9D%EF%BC%8C%E7%94%9F%E6%88%90QR%E7%A0%81.png "2.点击书签“移动设备浏览当前页”，生成QR码")](http://a.kainy.cn/201301/2.%E7%82%B9%E5%87%BB%E4%B9%A6%E7%AD%BE%E2%80%9C%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E6%B5%8F%E8%A7%88%E5%BD%93%E5%89%8D%E9%A1%B5%E2%80%9D%EF%BC%8C%E7%94%9F%E6%88%90QR%E7%A0%81.png) 2.点击书签“移动设备浏览当前页”，生成QR码[/caption]

&nbsp;

[caption id="" align="alignnone" width="442"]![3.使用移动设备扫描QR码，获取网页地址](http://a.kainy.cn/201301/3.%E4%BD%BF%E7%94%A8%E7%A7%BB%E5%8A%A8%E8%AE%BE%E5%A4%87%E6%89%AB%E6%8F%8FQR%E7%A0%81%EF%BC%8C%E8%8E%B7%E5%8F%96%E7%BD%91%E9%A1%B5%E5%9C%B0%E5%9D%80.png "3.使用移动设备扫描QR码，获取网页地址") 3.使用移动设备扫描QR码，获取网页地址[/caption]

&nbsp;

### 原理

1.  安装的小工具（书签）包含一段引用 js文件的脚本，点击时，在当前网页引用 js文件（并执行）；
2.  js运行时获取当前页网址，并生成包含网址信息的二维码，在桌面浏览器上显示；
3.  移动设备扫描二维码获取网址信息就可以通过自带浏览器访问桌面浏览器访问的网页了。
所以网页同步，本质是网址信息以二维码为载体在设备间传送。由于二维码经js生成，故这一过程仅需加载一个js文件（10k左右）在客户端完成，而无需服务端交互，不存在服务器保存网址信息的隐私问题，且几乎是即时完成，安全快捷。

### 设备要求

1.  使用本工具对桌面浏览器的要求是：1、开启JavaScript；2、支持书签收藏。经本人测试，支持ie6在内的所有主要浏览器。这也是本工具的优势之一：跨网站、跨浏览器支持、无需服务端支持、无需登录帐号；
2.  使用本工具对移动设备的要求是：1、能够扫描识别二维码；2、能够访问网络。经本人测试，微信“扫一扫”能够识别本工具生成的二维码，如果你也是微信3亿用户中的一员，那么恭喜你，此工具对你适用。
满足以上要求即可到[<span style="color: #ff0000;" data-mce-mark="1">**这里**</span>](http://bmd.kainy.cn/ "移动设备浏览当前页的工具")安装小工具。

### TODO：

1.  <del>20130127 - 修改 URL 后，可生成包新信息的二维码（直接共享下载文件[.apk、.mp3]路径到手机）</del>- 20130129 ： 可以说，二维码内容可改才发挥到本工具的优势（在客户端生成QR码），脚本执行时长相比由服务器生成再传送到客户端的时长，几乎算瞬间完成。
2.  <del>20130126 - 提供Gif动画演示，增加关闭按钮</del> - 20130127
<del>暂无</del>

_（其实为小工具的名字（书签名）纠结了蛮久，究竟该是当前的“移动设备浏览当前页”呢，还是“通过二维码分享”。前者从整体目的角度出发，比较感性；后者描述具体操作的效果，相对理性… 期待建议中）_。