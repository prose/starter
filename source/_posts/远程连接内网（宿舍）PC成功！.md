title: 远程连接内网（宿舍）PC成功！
tags:
  - 局域网
  - 电脑
  - 远程
  - 连接
id: 1027
categories:
  - 互联网络
date: 2010-05-04 23:34:50
---

身边用上校园网的同学大都在上机课的时候用xp系统自带的远程桌面连接，直接操作自己的PC做实验，非常方便，不但省去了工作前后资料同步的麻烦，而且还不用适应不同机房的系统环境。不过前提他们用的是校园网，没人一个ip，局域网网速又不成问题，而Kainy用的是宿舍5人共用的宽带-内网IP，用系统自带的远程连接肯定不行。

今天下午网络互联实验课上，就因为系统缓存原本设置为c盘，要解压2G的虚拟机文件就缓不过气来了，重新设置"系统缓存"又需要重启才行，可是因为机房机器上装有还原软件，重启后又恢复原先设置。就这么个不起眼的小问题，害我浪费了一个下午。于是下定决心要把这远程连接搞定。网络上有很多软件比如[teamviewer](http://www.teamviewer.com/)什么的，不过不是收费就是需要注册用户，反正就是要用到他们提供的服务就对了，这样虽说简单，但哪天要是它心情不好或是什么的，不给提供服务了，还是得换过一个软件。

最终选择的是[tightvnc](http://www.tightvnc.com/)-1.3.10（ MD5 ：88088D2A94BB936049B301119CB0A8A3）这么一个开源的软件，虽然是英文版的，不过还是在Kainy英语水平能接受的范围啦。。。 而且功能还是非常全面的，不仅可以远程操作，还可以传输文件，软件[简介里](http://www.tightvnc.com/intro.php)有一条：Efficient "Tight" encoding with optional JPEG compression.这样一来就弥补了外网和校园网之间访问的速度不如局域网的缺陷啦，据Kainy在用校园网的同学机器上测试的结果，在连接不加密的情况下，通过同学的机器操作自己用宿舍宽带PC的速度还是很好滴。<!--more-->

下面简单说说建立内网远程连接的思路吧，一是“里应外合”，配置windows的计划任务，内网的服务端定时执行发送信号的任务"C:\Program Files\RealVNC\VNC4\winvnc4.exe -connect  202.191.178.11" 这个方法明显问题会比较多，所以直接跳过； 第二个就是设置宿舍的路由，把需要操作的PC暴露出来，宿舍使用的是 水星 MR808 路由器
<div id="_mcePaste">软件版本：</div>
<div id="_mcePaste">3.6.1 Build 080430 Rel.38777na</div>
进入“192.168.1.1”后看到这么一段话“在某些特殊情况下，需要让局域网中的一台计算机完全暴露给广域网，以实现双向通信，此时可以把该计算机设置为DMZ主机。”估计要设置的东西就在这儿了，设置“转发规则→DMZ主机” 启用后在主机IP地址填写你机子的IP 保存一下。可是宿舍IP是动态获取（有启用DHCP的）的吧？不急。。。 DHCP里有个“地址池开始地址：”和“地址池结束地址：”吧？ 设置一个在这段地址之外的ip作为自己本机ip，这不就"动中有静"了吗?这样以后 再到“静态地址分配”里设置DHCP服务器的静态地址分配功能，把自己的MAC和之前留好的（地址池之外的）IP填上，保存，重启路由，OK！

Kainy宿舍路由器是中文的，如果是英文的也差不多啦，最多就“转发规则”变成“forwarding”之类的罢。

下面来两张精彩截图 \(^o^)/

[![](http://a.kainy.cn/201005/%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E8%BF%9E%E6%8E%A5%E5%86%85%E7%BD%91%E4%B8%BB%E6%9C%BA1.jpg)](http://a.kainy.cn/201005/%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E8%BF%9E%E6%8E%A5%E5%86%85%E7%BD%91%E4%B8%BB%E6%9C%BA1.jpg)

[![](http://a.kainy.cn/201005/%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E8%BF%9E%E6%8E%A5%E5%86%85%E7%BD%91%E4%B8%BB%E6%9C%BA2.jpg)](http://a.kainy.cn/201005/%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E8%BF%9E%E6%8E%A5%E5%86%85%E7%BD%91%E4%B8%BB%E6%9C%BA2.jpg)

懒得安装客户端的话还可以直接用浏览器来操作宿舍电脑哈，方便哦~ 不过需要java平台。

这样以后上机的课只要带上客户端软件，和显ip的qq就行啦，hoho~